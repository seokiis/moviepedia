{"ast":null,"code":"var _jsxFileName = \"/Users/kimseokhee/Desktop/dive_into_React/movie_review/src/components/ReviewList.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState } from \"react\";\nimport useTranslate from \"../hooks/useTranslate\";\nimport Rating from \"./Rating\";\nimport ReviewForm from \"./ReviewForm\";\nimport \"./ReviewList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatDate(value) {\n  const date = new Date(value);\n  return `${date.getFullYear()}. ${date.getMonth() + 1}. ${date.getDate()}.`;\n}\nfunction ReviewListItem(_ref) {\n  _s();\n  let {\n    item,\n    onDelete,\n    onEdit\n  } = _ref;\n  const t = useTranslate();\n  const handleDeleteClick = () => {\n    onDelete(item.id);\n  };\n  const handleEditClick = () => {\n    onEdit(item.id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ReviewListItem\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"ReviewListItem-img\",\n      src: item.imgUrl,\n      alt: item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ReviewListItem-rows\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"ReviewListItem-title\",\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        className: \"ReviewListItem-rating\",\n        value: item.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ReviewListItem-date\",\n        children: formatDate(item.createdAt)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ReviewListItem-content\",\n        children: item.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ReviewListItem-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ReviewListItem-edit-button\",\n          onClick: handleEditClick,\n          children: t(\"edit button\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ReviewListItem-delete-button\",\n          onClick: handleDeleteClick,\n          children: t(\"delete button\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)]\n  }, item.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n}\n_s(ReviewListItem, \"9klOrOYIx5j+qFcPCSba+ih6DD4=\", false, function () {\n  return [useTranslate];\n});\n_c = ReviewListItem;\nfunction ReviewList(_ref2) {\n  _s2();\n  let {\n    items,\n    onUpdate,\n    onUpdateSuccess,\n    onDelete\n  } = _ref2;\n  const [editingId, setEditingId] = useState(null);\n  const handleCancel = () => setEditingId(null);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"ReviewList\",\n    children: items.map(item => {\n      if (item.id === editingId) {\n        const {\n          id,\n          imgUrl,\n          title,\n          rating,\n          content\n        } = item;\n        const initialValues = {\n          title,\n          rating,\n          content,\n          imgFile: null\n        };\n        const handleSubmit = formData => onUpdate(id, formData);\n        const handleSubmitSuccess = review => {\n          onUpdateSuccess(review);\n          setEditingId(null);\n        };\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n            initialValues: initialValues,\n            initialPreview: imgUrl,\n            onSubmit: handleSubmit,\n            onSubmitSuccess: handleSubmitSuccess,\n            onCancel: handleCancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(ReviewListItem, {\n          item: item,\n          onDelete: onDelete,\n          onEdit: setEditingId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s2(ReviewList, \"MG5awC7Ihekw7aEM7lW55+n6oMg=\");\n_c2 = ReviewList;\nexport default ReviewList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ReviewListItem\");\n$RefreshReg$(_c2, \"ReviewList\");","map":{"version":3,"names":["useState","useTranslate","Rating","ReviewForm","formatDate","value","date","Date","getFullYear","getMonth","getDate","ReviewListItem","item","onDelete","onEdit","t","handleDeleteClick","id","handleEditClick","imgUrl","title","rating","createdAt","content","ReviewList","items","onUpdate","onUpdateSuccess","editingId","setEditingId","handleCancel","map","initialValues","imgFile","handleSubmit","formData","handleSubmitSuccess","review"],"sources":["/Users/kimseokhee/Desktop/dive_into_React/movie_review/src/components/ReviewList.js"],"sourcesContent":["import { useState } from \"react\";\nimport useTranslate from \"../hooks/useTranslate\";\nimport Rating from \"./Rating\";\nimport ReviewForm from \"./ReviewForm\";\nimport \"./ReviewList.css\";\n\nfunction formatDate(value) {\n    const date = new Date(value);\n    return `${date.getFullYear()}. ${date.getMonth() + 1}. ${date.getDate()}.`;\n}\n\nfunction ReviewListItem({ item, onDelete, onEdit }) {\n    const t = useTranslate();\n\n    const handleDeleteClick = () => {\n        onDelete(item.id);\n    };\n\n    const handleEditClick = () => {\n        onEdit(item.id);\n    };\n\n    return (\n        <div className=\"ReviewListItem\" key={item.id}>\n            <img\n                className=\"ReviewListItem-img\"\n                src={item.imgUrl}\n                alt={item.title}\n            />\n            <div className=\"ReviewListItem-rows\">\n                <h1 className=\"ReviewListItem-title\">{item.title}</h1>\n                <Rating className=\"ReviewListItem-rating\" value={item.rating} />\n                <p className=\"ReviewListItem-date\">\n                    {formatDate(item.createdAt)}\n                </p>\n                <p className=\"ReviewListItem-content\">{item.content}</p>\n                <div className=\"ReviewListItem-buttons\">\n                    <button\n                        className=\"ReviewListItem-edit-button\"\n                        onClick={handleEditClick}\n                    >\n                        {t(\"edit button\")}\n                    </button>\n                    <button\n                        className=\"ReviewListItem-delete-button\"\n                        onClick={handleDeleteClick}\n                    >\n                        {t(\"delete button\")}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction ReviewList({ items, onUpdate, onUpdateSuccess, onDelete }) {\n    const [editingId, setEditingId] = useState(null);\n\n    const handleCancel = () => setEditingId(null);\n\n    return (\n        <ul className=\"ReviewList\">\n            {items.map((item) => {\n                if (item.id === editingId) {\n                    const { id, imgUrl, title, rating, content } = item;\n                    const initialValues = {\n                        title,\n                        rating,\n                        content,\n                        imgFile: null,\n                    };\n\n                    const handleSubmit = (formData) => onUpdate(id, formData);\n\n                    const handleSubmitSuccess = (review) => {\n                        onUpdateSuccess(review);\n                        setEditingId(null);\n                    };\n\n                    return (\n                        <li key={item.id}>\n                            <ReviewForm\n                                initialValues={initialValues}\n                                initialPreview={imgUrl}\n                                onSubmit={handleSubmit}\n                                onSubmitSuccess={handleSubmitSuccess}\n                                onCancel={handleCancel}\n                            />\n                        </li>\n                    );\n                }\n                return (\n                    <li key={item.id}>\n                        <ReviewListItem\n                            item={item}\n                            onDelete={onDelete}\n                            onEdit={setEditingId}\n                        />\n                    </li>\n                );\n            })}\n        </ul>\n    );\n}\n\nexport default ReviewList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}